import{j as e,r as o,B as G,C as j,a as y,b as v,c as b,u as T,d as O,R as C,e as H,s as w,N as Y}from"./index-DopMnm64.js";import{G as q}from"./GuestFooter-BjaCpE6V.js";import{G as z}from"./GuestHeader-CTyX0-zE.js";function _(){return e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"300px",width:"100%",backgroundColor:"lightgray",padding:"1rem"},children:e.jsx("div",{className:"spinner-border",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})})}const V={name:"Higher Education",indicators:[{name:"Outcome Indicator 1: Percentage of first-time licensure exam takers that pass the licensure exam.",values:[{year:2020,target:0,accomplishment:0},{year:2021,target:0,accomplishment:0},{year:2022,target:7,accomplishment:7.78},{year:2023,target:9.7,accomplishment:14.46},{year:2024,target:5.74,accomplishment:9.7}]},{name:"Output Indicator 2: Percentage of graduates (2 years prior) that are employed",values:[{year:2020,target:0,accomplishment:0},{year:2021,target:0,accomplishment:0},{year:2022,target:5,accomplishment:1.68},{year:2023,target:5.95,accomplishment:2.34},{year:2024,target:9.84,accomplishment:2.05}]},{name:"Output Indicator 1: Percentage of undergraduate students enrolled in CHED-identified and RDC-identified priority programs",values:[{year:2020,target:0,accomplishment:0},{year:2021,target:0,accomplishment:0},{year:2022,target:18,accomplishment:13.91},{year:2023,target:18.62,accomplishment:18.62},{year:2024,target:13.5,accomplishment:0}]},{name:"Output Indicator 2: Percentage of undergraduate programs with accreditation",values:[{year:2020,target:0,accomplishment:0},{year:2021,target:0,accomplishment:0},{year:2022,target:22.58,accomplishment:22.58},{year:2023,target:22.58,accomplishment:18.75},{year:2024,target:18.75,accomplishment:18.75}]}]},$=[V],A=[{title:"Outcome Indicator 1: Percentage of first-time licensure exam takers that pass the licensure exam."}],B=["year","quarter"];function M({title:c="",reversed:i=!1,data:s=$[0]}){const[t,g]=o.useState(A[0]),[x,m]=o.useState(A),[p,h]=o.useState(null),[d,k]=o.useState(B[0]),[D,F]=o.useState([]),[f,N]=o.useState(null),R=a=>{g(a)},E=(a,n)=>{var u;if(a=a.filter((r,l,S)=>S.findIndex(P=>P.year===r.year)===l)||[],n==="year")h({labels:a.map(r=>r.year),datasets:[{label:"Target",backgroundColor:"#f87979",data:a.map(r=>r.target)},{label:"Accomplishment",backgroundColor:"#79f8b4",data:a.map(r=>r.accomplishment)}]});else if(n==="quarter"){const r=(u=a.find(({year:l})=>l===f))==null?void 0:u.quarters;if(!r){h(null);return}h({labels:r.map(({quarter:l})=>`Q${l}`),datasets:[{label:"Target",backgroundColor:"#f87979",data:r.map(({target:l})=>l)},{label:"Accomplishment",backgroundColor:"#79f8b4",data:r.map(({accomplishment:l})=>l)}]})}};return o.useEffect(()=>{var a;((a=s==null?void 0:s.indicators)==null?void 0:a.length)>0&&(m(s.indicators),g(s.indicators[0]))},[s]),o.useEffect(()=>{if(t!=null&&t.values){const n=[...t.values].reverse().map(({year:u})=>u);F([...new Set(n)]),t.values[0]&&N(t.values[0].year);return}},[t]),o.useEffect(()=>{t!=null&&t.values&&E(t.values,d)},[f,d]),o.useEffect(()=>{t!=null&&t.values&&h({labels:t.values.map(a=>a.year),datasets:[{label:"Target",backgroundColor:"#f87979",data:t.values.map(a=>(parseFloat(a.target)||0).toFixed(2))},{label:"Accomplishment",backgroundColor:"#4dbd74",data:t.values.map(a=>(parseFloat(a.accomplishment)||0).toFixed(2))}]})},[t]),e.jsxs("div",{className:`row col-lg-12 ${i?"flex-row-reverse":""}`,children:[e.jsx("div",{className:"col-lg-8",children:e.jsxs("div",{className:"blog-details-content",children:[e.jsx("h3",{className:"title",style:{textAlign:i?"right":"left",width:"100%"},children:c||"Title"}),p&&e.jsx(G,{data:p,labels:"years"})||e.jsx(_,{}),e.jsx("p",{className:"fw-light fs-6 italic",children:s==null?void 0:s.description})]})}),e.jsx("div",{className:"col-lg-4 pb-10",children:e.jsxs("div",{className:"blog-details-content",children:[e.jsxs("div",{className:`d-flex gap-2 ${i?"flex-row-reverse":""} justify-content-end `,children:[d==="quarter"&&e.jsxs(j,{children:[e.jsx(y,{color:"primary",className:"text-capitalize",children:f||"Select Year"}),e.jsx(v,{children:D.map((a,n)=>e.jsx(b,{onClick:()=>N(a),className:"text-capitalize",children:a},n))})]}),e.jsxs(j,{children:[e.jsxs(y,{color:"primary",className:"text-capitalize",children:["By ",d]}),e.jsx(v,{children:B.map((a,n)=>e.jsx(b,{onClick:()=>k(a),className:"text-capitalize",children:a},n))})]}),e.jsxs(j,{children:[e.jsx(y,{color:"primary",children:(t==null?void 0:t.title)&&(t==null?void 0:t.title.split(":")[0].trim())}),e.jsx(v,{children:x.map((a,n)=>e.jsx(b,{onClick:()=>R(a),children:(a==null?void 0:a.title)&&(a==null?void 0:a.title.split(":")[0].trim())},n))})]})]}),e.jsx("hr",{}),e.jsx("h4",{children:t==null?void 0:t.title}),(t==null?void 0:t.values)&&(()=>{const a=t.values.reduce((r,l)=>r+(parseFloat(l.target)||0),0),u=(t.values.reduce((r,l)=>r+(parseFloat(l.accomplishment)||0),0)/a*100).toFixed(2);return e.jsxs(e.Fragment,{children:[e.jsx("hr",{}),e.jsx("p",{children:(t==null?void 0:t.description)||e.jsxs(e.Fragment,{children:["Accomplishments show a percentage of ",e.jsxs("strong",{children:[u,"%"]})," from the target goal of ",e.jsx("strong",{children:a.toFixed(2)}),"."]})})]})})(),e.jsx("br",{})]})}),e.jsx("hr",{})]})}function L(){const c=T(),i=O(m=>m.bar.data),[s,t]=C.useState(null),[g]=H(),x=C.useCallback(async()=>((i==null?void 0:i.length)>0&&t(i),g().unwrap().then(m=>{var p;if(((p=m==null?void 0:m.data)==null?void 0:p.length)>0){const h=m.data.map(d=>({...d,indicators:d.particulars}));return t(h),c(w(h)),h}c(w([]))})),[]);return{data:s,fetchBarData:x}}function Q(){const{data:c,fetchBarData:i}=L();return C.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[(c==null?void 0:c.length)>0&&c.map((s,t)=>e.jsx(M,{title:s==null?void 0:s.title,data:s,reversed:t%2!==0},t)),!(c!=null&&c.length)&&e.jsx(Y,{})]})}function U(){return e.jsx("section",{className:"blog-details-page mt-50",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-12",children:e.jsx("div",{className:"blog-details-content",children:e.jsxs("div",{className:"details-content mt-50",children:[e.jsx("h3",{className:"title",children:"Budget Accountability Report (BAR 1)"}),e.jsx("hr",{})]})})}),e.jsx(Q,{})]})})})}function X(){return e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx("div",{className:"min-vh-100",children:e.jsx(U,{})}),e.jsx(q,{})]})}export{X as default};
